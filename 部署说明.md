# NetBird VPN å¿«é€Ÿéƒ¨ç½²æŒ‡å—

åŸºäº NetBird å®˜æ–¹ `getting-started-with-zitadel.sh` è„šæœ¬çš„5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æŒ‡å—ã€‚

## ğŸš€ ä¸€é”®éƒ¨ç½²

### å‰ç½®æ¡ä»¶
- Ubuntu/Debian ç³»ç»Ÿ
- æ‹¥æœ‰å…¬ç½‘ IP çš„æœåŠ¡å™¨
- å·²é…ç½®åŸŸåè§£æåˆ°æœåŠ¡å™¨IP
- å®‰è£… Dockerã€jqã€curl

### æ‰§è¡Œå®˜æ–¹éƒ¨ç½²è„šæœ¬
```bash
# è®¾ç½®ä½ çš„åŸŸåï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„å®é™…åŸŸåï¼‰
export NETBIRD_DOMAIN=your-domain.com

# æ‰§è¡Œå®˜æ–¹ä¸€é”®éƒ¨ç½²è„šæœ¬
curl -fsSL https://github.com/netbirdio/netbird/releases/latest/download/getting-started-with-zitadel.sh | bash
```

## ğŸ”‘ ç®¡ç†å‘˜ç™»å½•

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ç®¡ç†ç•Œé¢ï¼š

### è®¿é—®åœ°å€
```
NetBird Dashboard: https://your-domain.com
```

### ç™»å½•å‡­æ®
éƒ¨ç½²å®Œæˆåï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºç®¡ç†å‘˜è´¦æˆ·ä¿¡æ¯ï¼Œä¹Ÿä¼šä¿å­˜åœ¨ `.env` æ–‡ä»¶ä¸­ï¼š
```
Username: admin@your-domain.com
Password: <éšæœºç”Ÿæˆçš„å¯†ç >
```

> âš ï¸ **å®‰å…¨æé†’**: é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ“± å®¢æˆ·ç«¯å®‰è£…

### å®˜æ–¹å®¢æˆ·ç«¯ä¸‹è½½
è®¿é—®å®˜æ–¹å®‰è£…é¡µé¢è·å–å„å¹³å°å®¢æˆ·ç«¯ï¼š
```
https://app.netbird.io/install
```

æ”¯æŒçš„å¹³å°ï¼š
- **Windows**: .exe å®‰è£…åŒ…
- **macOS**: .dmg å®‰è£…åŒ…
- **Linux**: .deb/.rpm åŒ…æˆ–äºŒè¿›åˆ¶æ–‡ä»¶
- **Android**: Google Play Store
- **iOS**: App Store

## ğŸ›¡ï¸ å®‰å…¨ç»„é…ç½®

### å¿…éœ€ç«¯å£åˆ—è¡¨

æ ¹æ®å®˜æ–¹æ–‡æ¡£å’Œå®é™…çš„ `docker-compose.yml` é…ç½®ï¼Œä»¥ä¸‹æ˜¯çœŸæ­£éœ€è¦å¼€æ”¾çš„ç«¯å£ï¼š

| åºå· | æœåŠ¡ | åè®® | ç«¯å£èŒƒå›´ | æˆæƒå¯¹è±¡ | è¯´æ˜ |
|------|------|------|----------|----------|------|
| 1 | Dashboard & Management HTTP | TCP | 80/80 | 0.0.0.0/0 | Caddy åä»£åˆ° dashboard å’Œ management HTTPï¼›å¯¹å¤–å…¨ç½‘å¼€æ”¾ |
| 2 | Dashboard & Management HTTPS | TCP | 443/443 | 0.0.0.0/0 | Caddy åä»£åˆ° dashboard å’Œ management HTTPSï¼›å…¨ç½‘å¼€æ”¾ |
| 3 | Caddy HTTP/3 QUICï¼ˆå¯é€‰ï¼‰ | UDP | 443/443 | 0.0.0.0/0 | å¦‚æœå¼€å¯äº† HTTP/3ï¼Œéœ€è¦è®©å®¢æˆ·ç«¯èµ° UDP 443 |
| 4 | Coturn STUN åå•† | UDP | 3478/3478 | 0.0.0.0/0 æˆ– VPN ç½‘æ®µ | Coturn åœ¨ host ç½‘ç»œæ¨¡å¼ä¸‹ç›‘å¬ 3478/UDP |
| 5 | Coturn TURN ä¸­ç»§ | UDP | 49152/65535 | 0.0.0.0/0 æˆ– VPN ç½‘æ®µ | Coturn ä¸­ç»§ç«¯å£èŒƒå›´ |
| 6 | Coturn TURNï¼ˆTCP fallbackï¼‰ | TCP | 3478/3478 | 0.0.0.0/0 æˆ– VPN ç½‘æ®µ | éƒ¨åˆ†ç½‘ç»œéœ€è¦ TCP TURN |
| 7 | Caddy ç®¡ç†ç•Œé¢ï¼ˆå¯é€‰ï¼‰ | TCP | 8080/8080 | ä½ çš„ç®¡ç† IP åˆ—è¡¨ | å¦‚æœæƒ³ç”¨ Caddy çš„ Admin APIï¼Œå»ºè®®é™åˆ¶åˆ°å¯ä¿¡ IP |

### é‡è¦è¯´æ˜

- **å®˜æ–¹è„šæœ¬è®¾è®¡**: æ‰€æœ‰ NetBird æœåŠ¡ï¼ˆsignalã€relayã€managementï¼‰éƒ½é€šè¿‡ Caddy 80/443 åå‘ä»£ç†è®¿é—®ï¼Œå› æ­¤å®‰å…¨ç»„é‡Œä¸éœ€è¦å¼€æ”¾ 33073ã€10000ã€33080 ç­‰ç«¯å£ã€‚
- **ç«¯å£æ˜ å°„**: å¦‚æœä½ ç¡®å®å¸Œæœ›ç›´æ¥è®¿é—®æŸä¸ªæœåŠ¡çš„åº•å±‚ç«¯å£ï¼Œéœ€è¦åœ¨ `docker-compose.yml` é‡ŒåŠ  `ports:` æ˜ å°„ã€‚
- **æœ€å°åŒ–æš´éœ²**: å¼ºçƒˆå»ºè®®åªå°†å¿…é¡»çš„ç«¯å£å¯¹å…¬ç½‘å¼€æ”¾ï¼Œç®¡ç†ç±»æ¥å£ï¼ˆå¦‚ 8080ï¼‰è¯·åŠ¡å¿…åŠ  IP ç™½åå•ã€‚

### Ubuntu UFW é…ç½®
```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 443/udp
sudo ufw allow 3478/udp
sudo ufw allow 49152:65535/udp
sudo ufw enable
```

### é˜¿é‡Œäº‘å®‰å…¨ç»„é…ç½®
æŒ‰ä¸Šé¢çš„7æ¡è§„åˆ™é…ç½®ï¼Œç«¯å£èŒƒå›´æ ¼å¼å†™æˆ `å¼€å§‹ç«¯å£/ç»“æŸç«¯å£`ï¼Œæ¥æºåœ°å€å¯ä»¥ä¸€æ¬¡æ€§å¡«å¤šä¸ªé€—å·åˆ†éš”ã€‚

## ğŸ”§ ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
docker compose ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
docker compose logs -f
```

### é‡å¯æœåŠ¡
```bash
docker compose restart
```

### å¤‡ä»½é…ç½®
```bash
mkdir backup
cp docker-compose.yml Caddyfile zitadel.env dashboard.env turnserver.conf management.json relay.env zdb.env backup/
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- **å®˜æ–¹æ–‡æ¡£**: https://docs.netbird.io/selfhosted/selfhosted-quickstart
- **å®¢æˆ·ç«¯ä¸‹è½½**: https://app.netbird.io/install
- **GitHub**: https://github.com/netbirdio/netbird

---

**æ³¨æ„**: æœ¬æŒ‡å—åŸºäº NetBird å®˜æ–¹ `getting-started-with-zitadel.sh` è„šæœ¬ï¼Œç¡®ä¿ä¸å®˜æ–¹ä¿æŒä¸€è‡´ã€‚